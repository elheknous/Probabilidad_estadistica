---
title: "Informe 1"
author: "José Matus"
date: "2023-04-08"
output: 
  html_document:
    toc: true
    toc_depth: 3
    toc_float: true
    collapsed: true
    smooth_scroll: true
    theme: journal
    highlight: kate
    df_print: paged
    code_folding: show
---

```{r message = FALSE, warning = FALSE}
library(dplyr)   # manipulacion de datos
library(ggplot2) # visualizacion
library(readxl) # leer excel y escribir excel
library(moments) # asimetria y curtosis
library(tidyverse)
library(nortest)
library(gridExtra)
```

# Introduccion

El propósito de este informe será analizar la temperatura según el mes de los datos entregados, además se estudiará el nivel de SO2 Y NO2 durante el año, finalmente se realizará una conclusión con los resultados

Contexto de los datos:

los datos que se estudiaran fueron extraídos durante el año 2013, donde se estudiaron las variables del material particulado, dióxido de azufre, dióxido de nitrógeno, temperatura, lluvia y presión. Estos datos fueron extraídos a una determinada hora y mes desde marzo hasta diciembre.

# Base de datos

```{r message = FALSE, warning = FALSE}
library(readxl)
baseInforme <- read_excel("C:/Users/jose/Downloads/MATUS_TORO_JOSE.xlsx")
baseInforme
```

# Análisis de temperatura mensual

```{r message = FALSE, warning = FALSE}
temperatura = baseInforme %>%   
  ggplot(aes(y=TEMP)) +
  geom_boxplot() +  
  coord_flip() 
temperatura
summary(baseInforme$TEMP)

```

Considerando el diagrama de caja se puede ver que no existen datos atípicos, por lo tanto, para este caso, se estudiara la población completa de la temperatura

## Análisis general

```{r}
baseTemp = baseInforme %>%     
  group_by(month) %>% 
  summarise(total = n(),
            temperatura_min = min(TEMP),
            mediana_temperatura = median(TEMP),
            media_temperatura= mean(TEMP),
            temperatura_max = max(TEMP),
            desv.est = sd(TEMP),
            asimetria = skewness(TEMP),
            curtosis =kurtosis(TEMP)-3
            )
baseTemp
```

```{r message = FALSE, warning = FALSE}
histTemperatura <- ggplot(baseInforme, aes(x = TEMP))+
  geom_histogram(aes(y = ..density..), colour = "black",fill="white")+
  geom_density(alpha = .8, fill = "#FF6666")+
  geom_vline(aes(xintercept=median(TEMP)),
  color="blue", linetype="dashed", size=1)
histTemperatura
```

```{r}
baseInforme %>% 
  summarise(media = mean(TEMP),
            mediana = median(TEMP),
            desv.est = sd(TEMP),
            asimetria = skewness(TEMP),
            curtosis =kurtosis(TEMP)-3)

```

Analizando el histograma de la temperatura y los datos entregados en la tabla se llega a la conclusión de que los datos de la temperatura presentan un coeficiente de asimetría negativo por ende la temperatura generalmente suele ser más alta en los datos estudiados, además estos presentan una curtosis negativa lo que hace que el histograma se uno platicurtico

## Análisis de Max. y Min.

```{r message = FALSE, warning = FALSE}
  
b <- ggplot(baseTemp, aes(x = temperatura_min))+
  geom_histogram(aes(y = ..density..), colour = "black",fill="white")+
  geom_density(alpha = .8, fill = "#FF6666")+
  geom_vline(aes(xintercept=median(temperatura_min)),
  color="blue", linetype="dashed", size=1) 

c <- ggplot(baseTemp, aes(x = temperatura_max))+
  geom_histogram(aes(y = ..density..), colour = "black",fill="white")+
  geom_density(alpha = .8, fill = "#FF6666")+
  geom_vline(aes(xintercept=median(temperatura_max)),
  color="blue", linetype="dashed", size=1)

grid.arrange(b,c,ncol=2)
```

```{r}
baseTemp %>% 
  summarise(asimetria_temperatura_minima = skewness(temperatura_min),
            curtosis_temperatura_minima =kurtosis(temperatura_min)-3)
baseTemp %>% 
  summarise(asimetria_temperatura_maxima = skewness(temperatura_max),
            curtosis_temperatura_maxima =kurtosis(temperatura_max)-3)
```

Analizando cómo se comporta la temperatura mínima y máxima a lo largo de los meses a través de los histogramas y las tablas, tenemos que:

-   Sobre la temperatura mínima podemos ver que presenta un coeficiente de simetría muy cercano a cero, por lo tanto, se considera como una forma simétrica, también presenta una curtosis negativa lo que quiere decir que es platicurtica, de esto se puede concluir que las temperaturas más bajas de los meses estudiados no tienen una gran diferencia entre ellas y están distribuidas de forma muy equitativa a lo largo del tiempo.

-   La temperatura máxima presenta un coeficiente de asimetría negativo y una curtosis negativa haciendo de este histograma uno asimétrico hacia la izquierda y platicurtico, lo que quiere decir que los datos están mas concentrados en temperaturas por sobre la media y su distribución sea menos equitativa que las de las temperaturas mínimas

# Análisis con respecto a las horas

## Análisis de la Tem. Max 

```{r}
max(baseTemp$temperatura_max)
```
```{r}
mesMayor <- baseInforme %>% filter(month == "7")
mesMayor
```

```{r message = FALSE, warning = FALSE}
histHoras <- ggplot(mesMayor, aes(x = TEMP))+
  geom_histogram(aes(y = ..density..), colour = "black",fill="white")+
  geom_density(alpha = .8, fill = "#FF6666")+
  geom_vline(aes(xintercept=median(TEMP)),
  color="blue", linetype="dashed", size=1)
histHoras

mesMayor%>% 
  summarise(asimetria = skewness(TEMP),
            curtosis =kurtosis(TEMP)-3)
```
```{r}
horaPromedio = mesMayor %>%
  group_by(hour) %>%
  summarise(total = n(),
            mediaTemperatura = mean(TEMP))
horaPromedio

```
```{r}
max(horaPromedio$mediaTemperatura)
```

## Análisis de la Tem. Min.

```{r}
min(baseTemp$temperatura_min)
```
```{r}
mesMenor <- baseInforme %>% filter(month == "12")
mesMenor
```

```{r message = FALSE, warning = FALSE}
histHoras <- ggplot(mesMenor, aes(x = TEMP))+
  geom_histogram(aes(y = ..density..), colour = "black",fill="white")+
  geom_density(alpha = .8, fill = "#FF6666")+
  geom_vline(aes(xintercept=median(TEMP)),
  color="blue", linetype="dashed", size=1)
histHoras

mesMenor%>% 
  summarise(asimetria = skewness(TEMP),
            curtosis =kurtosis(TEMP)-3)
```
```{r}
horaPromedio = mesMenor %>%
  group_by(hour) %>%
  summarise(total = n(),
            mediaTemperatura = mean(TEMP))
horaPromedio

```
```{r}
min(horaPromedio$mediaTemperatura)
```
